"""Auth routes generated by ANG."""

from __future__ import annotations

from typing import Any

from fastapi import APIRouter, Depends

from app import models
from app.services.auth import AuthService, get_auth_service

router = APIRouter(tags=["Auth"])

@router.get("/auth/profile")
async def get_profile(svc: AuthService = Depends(get_auth_service)) -> models.GetProfileResponse:
    return await svc.get_profile()

@router.post("/auth/login")
async def login(payload: models.LoginRequest, svc: AuthService = Depends(get_auth_service)) -> models.LoginResponse:
    return await svc.login(payload)

@router.post("/auth/register")
async def register(payload: models.RegisterRequest, svc: AuthService = Depends(get_auth_service)) -> models.RegisterResponse:
    return await svc.register(payload)

@router.put("/auth/profile")
async def update_profile(payload: models.UpdateProfileRequest, svc: AuthService = Depends(get_auth_service)) -> models.UpdateProfileResponse:
    return await svc.update_profile(payload)

