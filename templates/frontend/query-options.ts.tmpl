// AUTO-GENERATED by ANG
import { queryOptions } from '@tanstack/react-query';
import { queryKeys } from './query-keys';
import * as api from './endpoints';
{{- if .QueryOptionsNeedsTypes }}
import type * as Types from './types';
{{- end }}

{{- range .QueryResources }}
export const {{ .Key }}Options = {
  {{- if .HasList }}
  list: (filters?: Types.{{ .ListRPC }}Request) =>
    queryOptions({
      queryKey: queryKeys.{{ .Key }}.list(filters),
      queryFn: () => api.{{ LowerFirst .ListRPC }}(filters),
    }),

  {{- end }}
  {{- if .HasDetail }}
  detail: ({{ .DetailParamName }}: string) =>
    queryOptions({
      queryKey: queryKeys.{{ .Key }}.detail({{ .DetailParamName }}),
      queryFn: () => api.{{ LowerFirst .DetailRPC }}({ {{ .DetailParamName }} } as Types.{{ .DetailRPC }}Request),
      enabled: !!{{ .DetailParamName }},
    }),

  {{- end }}
  {{- if .HasMe }}
  me: () =>
    queryOptions({
      queryKey: queryKeys.{{ .Key }}.me(),
      queryFn: () => api.{{ LowerFirst .MeRPC }}(),
      staleTime: 5 * 60 * 1000,
    }),
  {{- end }}
};

{{- end }}
