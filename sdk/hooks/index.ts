// Generated by ANG. Do not edit.
import { useQuery, useMutation, useQueryClient, useInfiniteQuery, UseQueryOptions, UseMutationOptions } from '@tanstack/react-query';
import * as Types from '../types';
import * as QueryOptions from '../query-options';
import * as LegacyQueries from '../queries';
import * as api from '../endpoints';
import { wsClient, useWebsocketSubscription, useAutoInvalidation } from './websocket-hooks';
import { queryKeys } from '../query-keys';
// @ts-ignore
import { useEffect } from 'react';

export { wsClient, useWebsocketSubscription, useAutoInvalidation };
export const useRegister = (options?: UseMutationOptions<Types.RegisterResponse, Error, Types.RegisterRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.RegisterRequest) => {
      return api.register(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.RegisterRequest) => {
    },
    ...options,
  });
};
export const useLogin = (options?: UseMutationOptions<Types.LoginResponse, Error, Types.LoginRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.LoginRequest) => {
      return api.login(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.LoginRequest) => {
    },
    ...options,
  });
};
export const useGetProfile = (params?: Types.GetProfileRequest, options?: Omit<UseQueryOptions<Types.GetProfileResponse, Error, Types.GetProfileResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =true;
  return useQuery({
    ...LegacyQueries.getProfileQueryOptions(params),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useGetProfileSuspense = (params?: Types.GetProfileRequest, options?: Omit<UseQueryOptions<Types.GetProfileResponse, Error, Types.GetProfileResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =true;
  return useQuery({
    ...LegacyQueries.getProfileQueryOptions(params),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useUpdateProfile = (options?: UseMutationOptions<Types.UpdateProfileResponse, Error, Types.UpdateProfileRequest, any>) => {
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: async (variables: Types.UpdateProfileRequest) => {
      return api.updateProfile(variables);
    },
    // Optimistic Update for GetProfile
    onMutate: async (variables: Types.UpdateProfileRequest) => {
        const id = (variables as any).id || (variables as any).profileId;
        // Detail Update
        if (!id) return; 
        const rpcParams = { id } as any; 
        const queryKey = queryKeys.Auth.GetProfile(rpcParams);

        await queryClient.cancelQueries({ queryKey });
        const previousData = queryClient.getQueryData(queryKey);
        queryClient.setQueryData(queryKey, (old: any) => {
            return old ? { ...old, ...variables } : variables;
        });
        return { previousData, queryKey };
    },
    onError: (_err: Error, _variables: Types.UpdateProfileRequest, context: any) => {
        if (context?.previousData) {
            queryClient.setQueryData(context.queryKey, context.previousData);
        }
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.UpdateProfileRequest, context: any) => {
        if (context?.queryKey) {
            queryClient.invalidateQueries({ queryKey: context.queryKey });
        }
    },
    ...options,
  });
};
export const useListTags = (params?: Types.ListTagsRequest, options?: Omit<UseQueryOptions<Types.ListTagsResponse, Error, Types.ListTagsResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =true;
  return useQuery({
    ...QueryOptions.tagsOptions.list(params),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useListTagsSuspense = (params?: Types.ListTagsRequest, options?: Omit<UseQueryOptions<Types.ListTagsResponse, Error, Types.ListTagsResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =true;
  return useQuery({
    ...QueryOptions.tagsOptions.list(params),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useInfiniteListTags = (params?: Types.ListTagsRequest, options?: any) => {
  const hasRequiredParams =true;
  return useInfiniteQuery({
    ...LegacyQueries.listTagsInfiniteQueryOptions(params),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useInfiniteListTagsSuspense = (params?: Types.ListTagsRequest, options?: any) => {
  const hasRequiredParams =true;
  return useInfiniteQuery({
    ...LegacyQueries.listTagsInfiniteQueryOptions(params),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useCreateTag = (options?: UseMutationOptions<Types.CreateTagResponse, Error, Types.CreateTagRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.CreateTagRequest) => {
      return api.createTag(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.CreateTagRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
    },
    ...options,
  });
};
export const useUpdateTag = (options?: UseMutationOptions<Types.UpdateTagResponse, Error, Types.UpdateTagRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.UpdateTagRequest) => {
      return api.updateTag(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.UpdateTagRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
    },
    ...options,
  });
};
export const useDeleteTag = (options?: UseMutationOptions<Types.DeleteTagResponse, Error, Types.DeleteTagRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.DeleteTagRequest) => {
      return api.deleteTag(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.DeleteTagRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
    },
    ...options,
  });
};
export const useCreatePost = (options?: UseMutationOptions<Types.CreatePostResponse, Error, Types.CreatePostRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.CreatePostRequest) => {
      return api.createPost(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.CreatePostRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
    },
    ...options,
  });
};
export const useGetPost = (params?: Types.GetPostRequest, options?: Omit<UseQueryOptions<Types.GetPostResponse, Error, Types.GetPostResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =!!((((params as any)?.slug ?? (params as any)?.slug)));
  const queryClient = useQueryClient();
  return useQuery({
    placeholderData: () => {
      const id = ((params as any)?.slug);
      if (!id) return undefined;
      const cachedLists = queryClient.getQueriesData<any>({
        queryKey: queryKeys.posts.lists()
      });
      for (const [, listData] of cachedLists) {
        const found = listData?.data?.find((item: any) => item.id === id);
        if (found) return { data: found } as any;
      }
      return undefined;
    },
    ...QueryOptions.postsOptions.detail(((params as any)?.slug)),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useGetPostSuspense = (params?: Types.GetPostRequest, options?: Omit<UseQueryOptions<Types.GetPostResponse, Error, Types.GetPostResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =!!((((params as any)?.slug ?? (params as any)?.slug)));
  return useQuery({
    ...QueryOptions.postsOptions.detail(((params as any)?.slug)),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useInfiniteGetPost = (params?: Types.GetPostRequest, options?: any) => {
  const hasRequiredParams =!!((((params as any)?.slug ?? (params as any)?.slug)));
  return useInfiniteQuery({
    ...LegacyQueries.getPostInfiniteQueryOptions(params),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useInfiniteGetPostSuspense = (params?: Types.GetPostRequest, options?: any) => {
  const hasRequiredParams =!!((((params as any)?.slug ?? (params as any)?.slug)));
  return useInfiniteQuery({
    ...LegacyQueries.getPostInfiniteQueryOptions(params),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useListPosts = (params?: Types.ListPostsRequest, options?: Omit<UseQueryOptions<Types.ListPostsResponse, Error, Types.ListPostsResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =true;
  return useQuery({
    ...QueryOptions.postsOptions.list(params),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useListPostsSuspense = (params?: Types.ListPostsRequest, options?: Omit<UseQueryOptions<Types.ListPostsResponse, Error, Types.ListPostsResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =true;
  return useQuery({
    ...QueryOptions.postsOptions.list(params),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useInfiniteListPosts = (params?: Types.ListPostsRequest, options?: any) => {
  const hasRequiredParams =true;
  return useInfiniteQuery({
    ...LegacyQueries.listPostsInfiniteQueryOptions(params),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useInfiniteListPostsSuspense = (params?: Types.ListPostsRequest, options?: any) => {
  const hasRequiredParams =true;
  return useInfiniteQuery({
    ...LegacyQueries.listPostsInfiniteQueryOptions(params),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useListMyPosts = (params?: Types.ListMyPostsRequest, options?: Omit<UseQueryOptions<Types.ListMyPostsResponse, Error, Types.ListMyPostsResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =true;
  return useQuery({
    ...LegacyQueries.listMyPostsQueryOptions(params),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useListMyPostsSuspense = (params?: Types.ListMyPostsRequest, options?: Omit<UseQueryOptions<Types.ListMyPostsResponse, Error, Types.ListMyPostsResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =true;
  return useQuery({
    ...LegacyQueries.listMyPostsQueryOptions(params),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useInfiniteListMyPosts = (params?: Types.ListMyPostsRequest, options?: any) => {
  const hasRequiredParams =true;
  return useInfiniteQuery({
    ...LegacyQueries.listMyPostsInfiniteQueryOptions(params),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useInfiniteListMyPostsSuspense = (params?: Types.ListMyPostsRequest, options?: any) => {
  const hasRequiredParams =true;
  return useInfiniteQuery({
    ...LegacyQueries.listMyPostsInfiniteQueryOptions(params),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useUpdatePost = (options?: UseMutationOptions<Types.UpdatePostResponse, Error, Types.UpdatePostRequest, any>) => {
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: async (variables: Types.UpdatePostRequest) => {
      return api.updatePost(variables);
    },
    // Optimistic Update for GetPost
    onMutate: async (variables: Types.UpdatePostRequest) => {
        const id = (variables as any).id || (variables as any).postId;
        // Detail Update
        if (!id) return; 
        const rpcParams = { id } as any; 
        const queryKey = queryKeys.Blog.GetPost(rpcParams);

        await queryClient.cancelQueries({ queryKey });
        const previousData = queryClient.getQueryData(queryKey);
        queryClient.setQueryData(queryKey, (old: any) => {
            return old ? { ...old, ...variables } : variables;
        });
        return { previousData, queryKey };
    },
    onError: (_err: Error, _variables: Types.UpdatePostRequest, context: any) => {
        if (context?.previousData) {
            queryClient.setQueryData(context.queryKey, context.previousData);
        }
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.UpdatePostRequest, context: any) => {
        if (context?.queryKey) {
            queryClient.invalidateQueries({ queryKey: context.queryKey });
        }
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
    },
    ...options,
  });
};
export const useSubmitPost = (options?: UseMutationOptions<Types.SubmitPostResponse, Error, Types.SubmitPostRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.SubmitPostRequest) => {
      return api.submitPost(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.SubmitPostRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
    },
    ...options,
  });
};
export const usePublishPost = (options?: UseMutationOptions<Types.PublishPostResponse, Error, Types.PublishPostRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.PublishPostRequest) => {
      return api.publishPost(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.PublishPostRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
    },
    ...options,
  });
};
export const useArchivePost = (options?: UseMutationOptions<Types.ArchivePostResponse, Error, Types.ArchivePostRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.ArchivePostRequest) => {
      return api.archivePost(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.ArchivePostRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
    },
    ...options,
  });
};
export const useDeletePost = (options?: UseMutationOptions<Types.DeletePostResponse, Error, Types.DeletePostRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.DeletePostRequest) => {
      return api.deletePost(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.DeletePostRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
    },
    ...options,
  });
};
export const useCreateComment = (options?: UseMutationOptions<Types.CreateCommentResponse, Error, Types.CreateCommentRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.CreateCommentRequest) => {
      return api.createComment(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.CreateCommentRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
    },
    ...options,
  });
};
export const useListComments = (params?: Types.ListCommentsRequest, options?: Omit<UseQueryOptions<Types.ListCommentsResponse, Error, Types.ListCommentsResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =!!((((params as any)?.postID ?? (params as any)?.postId)));
  return useQuery({
    ...LegacyQueries.listCommentsQueryOptions(params),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useListCommentsSuspense = (params?: Types.ListCommentsRequest, options?: Omit<UseQueryOptions<Types.ListCommentsResponse, Error, Types.ListCommentsResponse, any[]>, 'queryKey' | 'queryFn'>) => {
  const hasRequiredParams =!!((((params as any)?.postID ?? (params as any)?.postId)));
  return useQuery({
    ...LegacyQueries.listCommentsQueryOptions(params),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useInfiniteListComments = (params?: Types.ListCommentsRequest, options?: any) => {
  const hasRequiredParams =!!((((params as any)?.postID ?? (params as any)?.postId)));
  return useInfiniteQuery({
    ...LegacyQueries.listCommentsInfiniteQueryOptions(params),
    ...options,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};

export const useInfiniteListCommentsSuspense = (params?: Types.ListCommentsRequest, options?: any) => {
  const hasRequiredParams =!!((((params as any)?.postID ?? (params as any)?.postId)));
  return useInfiniteQuery({
    ...LegacyQueries.listCommentsInfiniteQueryOptions(params),
    ...options,
    suspense: true,
    enabled: hasRequiredParams && (options?.enabled ?? true),
  } as any);
};
export const useUpdateComment = (options?: UseMutationOptions<Types.UpdateCommentResponse, Error, Types.UpdateCommentRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.UpdateCommentRequest) => {
      return api.updateComment(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.UpdateCommentRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
    },
    ...options,
  });
};
export const useDeleteComment = (options?: UseMutationOptions<Types.DeleteCommentResponse, Error, Types.DeleteCommentRequest, any>) => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (variables: Types.DeleteCommentRequest) => {
      return api.deleteComment(variables);
    },
    onSettled: (_data: any, _error: Error | null, _variables: Types.DeleteCommentRequest) => {
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListTags'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListMyPosts'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListComments'] });
        queryClient.invalidateQueries({ queryKey: [...queryKeys.Blog.all, 'ListPosts'] });
    },
    ...options,
  });
};
