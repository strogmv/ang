// Generated by ANG. Do not edit.
import { QueryClient } from '@tanstack/react-query';
import * as Queries from './queries';

export interface RouteMeta {
  title: string;
  breadcrumb: string;
}

export const createRouteDefinitions = (queryClient: QueryClient) => [
{{- range .Endpoints }}
  {
    path: '{{ RouterPath .Path }}',
    method: '{{ .Method }}',
    rpc: '{{ .RPC }}',
    {{- if eq .Method "GET" }}
    loader: async ({ params }: { params: any }) => {
      {{- $args := ParamsFromRouter .Path }}
      {{- if ne $args "" }}
      await queryClient.ensureQueryData(Queries.{{ LowerFirst .RPC }}QueryOptions({{ $args }}));
      {{- else }}
      await queryClient.ensureQueryData(Queries.{{ LowerFirst .RPC }}QueryOptions());
      {{- end }}
    },
    {{- end }}
    meta: {
      title: '{{ if .Description }}{{ .Description }}{{ else }}{{ .RPC }}{{ end }}',
      breadcrumb: '{{ .RPC }}'
    } as RouteMeta
  },
{{- end }}
];

export const Routes = {
{{- range .Endpoints }}
  {{ .RPC }}: ({{ PathParams .Path }}) => `{{ PathTemplate .Path }}`,
{{- end }}
};
