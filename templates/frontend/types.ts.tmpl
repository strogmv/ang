// Generated by ANG. Do not edit.

/**
 * Helper for client-side encrypted fields.
 * Data is encrypted before sending and decrypted after receiving.
 */
export type Encrypted<T> = string & { __encrypted?: T };

{{- range .Entities }}
export interface {{ .Name }} {
{{- range .Fields }}
  {{- if not .IsSecret }}
  /** {{ if .IsPII }}@pii - Sensitive data{{ end }} */
  {{ .Name | JSONName }}{{ if .IsOptional }}?{{ end }}: {{ TSFieldType . }};
  {{- end }}
{{- end }}
}
{{- end }}

// Events
{{- range .Events }}
export interface {{ .Name }} {
{{- range .Fields }}
  {{- if not .IsSecret }}
  /** {{ if .IsPII }}@pii - Sensitive data{{ end }} */
  {{ .Name | JSONName }}: {{ TSFieldType . }};
  {{- end }}
{{- end }}
}
{{- end }}

/**
 * Error codes registry for the entire system.
 * Values match the 'code' field in ProblemDetail.
 */
export enum ErrorCode {
{{- range .Errors }}
  {{ .Name }} = {{ .Code }},
{{- end }}
}

/**
 * Standard RFC 7807 Problem Details object.
 */
export interface ProblemDetail {
  type: string;
  title: string;
  status: number;
  detail: string;
  instance?: string;
  code: ErrorCode;
  traceId?: string;
  invalidFields?: Record<string, string>;
}

export type { Role, Permission } from "../rbac";
