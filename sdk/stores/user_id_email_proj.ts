// Generated by ANG. Do not edit.
import { create } from 'zustand';
import type * as Types from '../types';
type User_id_email_ProjId = Types.User_id_email_Proj['id'];

const user_id_email_ProjIdKey = (item: Types.User_id_email_Proj): string =>
  String(item.id);

export interface User_id_email_ProjStore {
  items: Record<string, Types.User_id_email_Proj>;
  list: Types.User_id_email_Proj[];
  setAll: (items: Types.User_id_email_Proj[]) => void;
  upsert: (item: Types.User_id_email_Proj) => void;
  remove: (id: User_id_email_ProjId) => void;
  clear: () => void;
}

export const useUser_id_email_ProjStore = create<User_id_email_ProjStore>()((set) => ({
  items: {},
  list: [],
  setAll: (items) => {
    const index: Record<string, Types.User_id_email_Proj> = {};
    for (const item of items) {
      index[user_id_email_ProjIdKey(item)] = item;
    }
    set({ items: index, list: items });
  },
  upsert: (item) =>
    set((state) => {
      const key = user_id_email_ProjIdKey(item);
      const items = { ...state.items, [key]: item };
      const exists = state.list.some((entry) => user_id_email_ProjIdKey(entry) === key);
      const list = exists
        ? state.list.map((entry) => (user_id_email_ProjIdKey(entry) === key ? item : entry))
        : [item, ...state.list];
      return { items, list };
    }),
  remove: (id) =>
    set((state) => {
      const key = String(id);
      if (!state.items[key]) {
        return state;
      }
      const items = { ...state.items };
      delete items[key];
      const list = state.list.filter((entry) => user_id_email_ProjIdKey(entry) !== key);
      return { items, list };
    }),
  clear: () => set({ items: {}, list: [] }),
}));
